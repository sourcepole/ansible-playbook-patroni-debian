{% if dcs == 'consul' %}
# We depend on a local patroni client
consul:
  host: "127.0.0.1:{{ dcs_port[dcs] }}"
{% endif
 %}
{% if dcs == 'zookeeper' %}
zookeeper:
  hosts:
{% endif
 %}
{% 
   if dcs == 'etcd' %}
etcd:
  hosts:
{% endif
 %}
{% if dcs == 'zookeeper' or dcs == 'etcd'
 %}
{%   if dcs_server_ips is defined
 %}
{%     for ip in dcs_server_ips
 %}
    - {{ ip }}:{{ dcs_port[dcs] }}
{%      endfor
 %}
{%   else
 %}
{%     for host in dcs_servers
 %}
    - {{ hostvars[host]['ansible_eth0']['ipv4']['address'] }}:{{ dcs_port[dcs] }}
{%      endfor
 %}
{%   endif
 %}
{% endif %}
